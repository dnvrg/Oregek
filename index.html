<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idősgondozási Menedzser</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        /* A CSS kód a következő blokkban található */
    </style>
</head>
<body>
    <div class="app-container">
        <div class="nav-container">
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="showTab('patients')">Páciensek</button>
                <button class="nav-tab" onclick="showTab('calendar')">Naptár</button>
                <button class="nav-tab" onclick="showTab('shopping')">Bevásárló Lista</button>
                <button class="nav-tab" onclick="showTab('documents')">Dokumentumok</button>
                <button class="nav-tab" onclick="showTab('notes')">Jegyzetek</button>
            </div>
            <!-- Konténer a beállítások gombhoz és a legördülő menühöz -->
            <div class="settings-btn-container">
                <button class="settings-btn" id="settingsBtn" onclick="toggleSettingsDropdown()">
                    <i class="material-icons">settings</i>
                </button>
                <!-- Új legördülő menü a beállítások tartalmával -->
                <div id="settingsDropdown" class="settings-dropdown-menu">
                    <button class="btn download-btn" onclick="downloadAllData()">Adatok letöltése</button>
                    <input type="file" id="uploadFile" accept=".json" style="display: none;">
                    <button class="btn upload-btn" onclick="document.getElementById('uploadFile').click()">Adatok feltöltése</button>
                </div>
            </div>
        </div>

        <div id="patients" class="tab-content active">
            <div class="header-with-search">
                <h2>Páciensek</h2>
                <div class="search-container">
                    <input type="text" id="patientSearchInput" placeholder="Keresés...">
                </div>
            </div>
            <div id="patientsList" class="patient-list"></div>
        </div>

        <div id="calendar" class="tab-content">
            <div class="header-with-search">
                <h2>Látogatási Naptár</h2>
                <div class="search-container">
                    <input type="text" id="calendarSearchInput" placeholder="Keresés...">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="calendarMonth">Hónap</label>
                    <select id="calendarMonth">
                        <option value="0">Január</option>
                        <option value="1">Február</option>
                        <option value="2">Március</option>
                        <option value="3">Április</option>
                        <option value="4">Május</option>
                        <option value="5">Június</option>
                        <option value="6">Július</option>
                        <option value="7">Augusztus</option>
                        <option value="8">Szeptember</option>
                        <option value="9">Október</option>
                        <option value="10">November</option>
                        <option value="11">December</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="calendarYear">Év</label>
                    <input type="number" id="calendarYear" min="2020" max="2030">
                </div>
            </div>
            <div id="calendarGrid" class="calendar"></div>
        </div>

        <div id="shopping" class="tab-content">
            <div class="header-with-search">
                <h2>Bevásárló Lista</h2>
                <div class="search-container">
                    <input type="text" id="shoppingSearchInput" placeholder="Keresés...">
                </div>
            </div>
            
            <form id="shoppingForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="shoppingItem">Tétel</label>
                        <input type="text" id="shoppingItem" required>
                    </div>
                    <div class="form-group">
                        <label for="shoppingPatient">Páciens</label>
                        <select id="shoppingPatient">
                            <option value="">Válasszon pácienst</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn">Hozzáad</button>
            </form>

            <div id="shoppingList"></div>
        </div>

        <div id="documents" class="tab-content">
            <div class="header-with-search">
                <h2>Páciens Dokumentumok</h2>
                <div class="search-container">
                    <input type="text" id="documentsSearchInput" placeholder="Keresés...">
                </div>
            </div>
            
            <form id="documentForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="documentFile">Válasszon dokumentumot</label>
                        <input type="file" id="documentFile" accept=".pdf,.doc,.docx,.jpg,.jpeg,.png" required>
                    </div>
                    <div class="form-group">
                        <label for="documentPatient">Páciens</label>
                        <select id="documentPatient" required>
                            <option value="">Válasszon pácienst</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn">Feltöltés</button>
            </form>

            <div id="documentsList"></div>
        </div>

        <div id="notes" class="tab-content">
            <div class="header-with-search">
                <h2>Jegyzetek</h2>
                <div class="search-container">
                    <input type="text" id="notesSearchInput" placeholder="Keresés...">
                </div>
            </div>
            
            <form id="noteForm">
                <div class="form-group">
                    <label for="notePatient">Páciens</label>
                    <select id="notePatient">
                        <option value="">Általános megjegyzés</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="noteContent">Jegyzet</label>
                    <textarea id="noteContent" required placeholder="Ide írja a jegyzetet..."></textarea>
                </div>
                <button type="submit" class="btn">Jegyzet Hozzáadása</button>
            </form>

            <div id="notesList"></div>
        </div>
        
        <!-- A beállítások oldal eltávolításra került, a funkciók a legördülő menüben vannak -->
        <div id="settings" class="tab-content">
            <!-- Ez a div üresen maradhat, mivel már nincs szükségünk külön fülre -->
        </div>

    </div>

    <button id="addPatientBtn" class="floating-btn">+</button>

    <div id="patientFormContainer" class="patient-form-container">
        <form id="patientForm">
            <div class="form-row">
                <div class="form-group">
                    <label for="name">Név *</label>
                    <input type="text" id="name" required>
                </div>
                <div class="form-group">
                    <label for="phone">Telefonszám *</label>
                    <input type="tel" id="phone" required>
                </div>
            </div>

            <div class="form-group">
                <label for="address">Lakcím</label>
                <input type="text" id="address">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="intercom">Kapukód</label>
                    <input type="text" id="intercom">
                </div>
                <div class="form-group">
                    <label for="taj">TAJ Szám</label>
                    <input type="text" id="taj">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="emergencyContact">Értesítendő</label>
                    <input type="text" id="emergencyContact">
                </div>
                <div class="form-group">
                    <label for="emergencyPhone">Értesítendő Telefonszáma</label>
                    <input type="tel" id="emergencyPhone">
                </div>
            </div>

            <div class="form-group">
                <label for="tasks">Feladatok</label>
                <textarea id="tasks" placeholder="Sorolja fel a páciens gondozási feladatait..."></textarea>
            </div>

            <div class="form-group">
                <label for="patientColor">Naptár Szín</label>
                <input type="color" id="patientColor" class="color-picker" value="#667eea">
            </div>

            <div class="form-group">
                <label>Látogatási Napok</label>
                <div class="visit-days">
                    <div class="day-checkbox">
                        <input type="checkbox" id="monday" value="1">
                        <label for="monday">Hétfő</label>
                    </div>
                    <div class="day-checkbox">
                        <input type="checkbox" id="tuesday" value="2">
                        <label for="tuesday">Kedd</label>
                    </div>
                    <div class="day-checkbox">
                        <input type="checkbox" id="wednesday" value="3">
                        <label for="wednesday">Szerda</label>
                    </div>
                    <div class="day-checkbox">
                        <input type="checkbox" id="thursday" value="4">
                        <label for="thursday">Csütörtök</label>
                    </div>
                    <div class="day-checkbox">
                        <input type="checkbox" id="friday" value="5">
                        <label for="friday">Péntek</label>
                    </div>
                </div>
            </div>

            <button type="submit" class="btn">Mentés</button>
        </form>
    </div>

    <script>
        // A JavaScript kód a következő blokkban található
    </script>
</body>
</html>
